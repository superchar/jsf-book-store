<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"  >
<h:head>
    <h:outputScript name="jquery/jquery.js" library="primefaces"/>
</h:head>

<h:form>
    <h:panelGroup layout="block" styleClass="form-group">
        <h:outputLabel for="title" value="Title:"/>
        <h:inputText value="#{bookData.title}" id="title" styleClass="form-control"/>
    </h:panelGroup>
    <h:panelGroup layout="block" styleClass="form-group">
        <h:outputLabel for="isbn" value="ISBN:"/>
        <h:inputText value="#{bookData.isbn}" id="isbn" styleClass="form-group"/>
    </h:panelGroup>
    <h:panelGroup layout="block" styleClass="form-group">
        <h:outputLabel for="description" value="Description:"/>
        <h:inputTextarea value="#{bookData.description}" id="description" styleClass="form-control"/>
    </h:panelGroup>
    <h:panelGroup layout="block" styleClass="form-group">
        <h:outputLabel for="author" value="Author:" />
        <p:autoComplete styleClass="form-control"
                        id="author"
                        value="#{bookData.author}"
                        completeMethod="#{bookPresenter.completeAuthor}"
                        converter="#{authorAutocompleteConverter}"
                        var="author"
                        itemValue="#{author}"
                        itemLabel="#{author.firstName}"/>
    </h:panelGroup>
   <h:panelGroup>

       <p:outputLabel for="genre" value="Genre:"/>
       <p:autoComplete styleClass="form-control"
                       id="genre"
                       value="#{bookData.genre}"
                       completeMethod="#{bookPresenter.completeGenre}"
                       var="genre"
                       converter="#{genreAutocompleteConverter}"
                       itemValue="#{genre}"
                       itemLabel="#{genre.name}"/>
   </h:panelGroup>

    <h:commandButton action="#{bookPresenter.addNewBook}"/>
</h:form>

</html>
